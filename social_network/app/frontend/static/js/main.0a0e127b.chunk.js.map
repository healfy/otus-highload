{"version":3,"sources":["app/actions.js","app/utils.js","app/store.js","app/actionCreators.js","components/common/components/AuthRedirect.jsx","components/common/fields.js","components/common/validators.js","components/common/components/Hobbies.jsx","components/common/components/Header.jsx","components/common/components/statuses/Friend.jsx","components/common/components/statuses/Unknown.jsx","components/common/components/statuses/WaitingYou.jsx","components/common/components/statuses/WaitingUser.jsx","components/common/components/UserStatus.jsx","components/common/components/statuses/You.jsx","components/common/components/UserInfo.jsx","components/common/components/UserCard.jsx","components/common/components/Loader.jsx","components/common/components/Notification.jsx","components/pages/login/Form.jsx","components/pages/login/LoginPage.jsx","components/pages/register/Form.jsx","components/pages/register/RegisterPage.jsx","components/pages/user/EditableHobbies.jsx","components/pages/user/FriendRequests.jsx","components/pages/user/UserPage.jsx","components/pages/users/Form.jsx","components/pages/users/UsersPage.jsx","App.js","index.js"],"names":["SHOW_MESSAGE","HIDE_MESSAGE","SHOW_LOADER","HIDE_LOADER","LOGIN_SUCCESS","LOGIN_FAILED","GET_USER_DATA","REGISTER_SUCCESS","REGISTER_FAILED","LOGOUT","GET_USER_SUCCESS","ADD_HOBBY_SUCCESS","DELETE_HOBBY_SUCCESS","GET_USERS","CLEAR_USERS","CLEAR_USER","DELETE_FRIENDSHIP","ADD_FRIEND_REQUEST","DELETE_FRIEND_REQUEST","ACCEPT_FRIEND_REQUEST","DECLINE_FRIEND_REQUEST","GET_FRIEND_REQUEST_USERS","TOKEN_FIELD_NAME","REQUEST_STATUSES","parsePayloadError","response","errors","data","detail","forEach","item","name","loc","length","msg","loadTokenFromStorage","token","localStorage","getItem","parsedToken","JSON","parse","expired_at","Date","getTime","arrayToQueryString","arr","encodedName","encodeURIComponent","map","join","toQueryString","obj","Object","keys","key","DEFAULT_TOKEN","id","value","user_id","DEFAULT_USER","first_name","last_name","age","gender","city","hobbies","initialState","userData","isAuthenticated","authentication","user","friends","friendRequests","friendRequestUsers","users","requestCount","message","registerErrors","email","password","general","loginErrors","error","store","createStore","state","action","payload","type","filter","h","req","requestId","friend","requestsWithoutChanges","changedRequest","find","status","composeWithDevTools","applyMiddleware","thunk","API_BASE","AXIOS_CONFIG","timeout","headers","axios","axiosBase","create","getAuthorizedAxios","getState","config","showMessage","dispatch","setTimeout","messageTimeout","showLoader","hideLoader","login","a","isSuccess","post","setItem","stringify","console","log","logout","removeItem","getUserData","userPromise","get","friendsPromise","friendRequestsPromise","Promise","all","register","getUser","userId","addHobby","createResponse","put","deleteHobby","delete","getFriends","clearUser","clearUsers","getUsers","page","paginate_by","query","deleteFriendship","addFriendRequest","deleteFriendRequest","acceptFriendRequest","friend_id","userResponse","declineFriendRequest","getFriendRequestUsers","ids","AuthRedirect","this","props","redirect","Fragment","to","pathname","children","React","Component","connect","SimpleField","input","onChange","restInput","meta","submitError","rest","TextField","helperText","touched","undefined","inputProps","style","margin","minWidth","variant","SimpleSelect","label","options","FormControl","InputLabel","Select","labelId","option","MenuItem","required","chipStyle","marginTop","marginRight","Hobbies","Math","random","toString","substring","hobby","Chip","Header","toPath","bind","path","history","push","AppBar","position","Toolbar","Button","color","onClick","bindActionCreators","withRouter","Friend","handleDelete","onDelete","Unknown","handleAdd","WaitingYou","handleAccept","handleDecline","getFriendRequest","to_user","from_user","friendRequest","WaitingUser","text","statusComponents","YOU","FRIEND","WAITING_YOU_RESPONSE","WAITING_USER_RESPONSE","UNKNOWN","UserStatus","current","StatusComponent","getComponent","typographyStyle","display","justifyContent","UserInfo","Typography","component","padding","height","UserCard","Card","Loader","CircularProgress","Notification","Snackbar","open","anchorOrigin","vertical","horizontal","severity","LoginForm","handleSubmit","onSubmit","validate","size","minHeight","textAlign","LoginPage","form","RegisterForm","genderOptions","placeholder","validateForm","values","confirm","confirmPassword","RegisterPage","setState","EditableHobbies","restart","alreadyAdded","composeValidators","validators","reduce","validator","FriendRequests","showDeclined","declinedIds","Grid","container","spacing","justify","direction","xs","cardStyle","gridStyle","UserPage","showDeclinedFriendRequests","isMyPage","Number","FormControlLabel","control","Checkbox","checked","marginBottom","SearchForm","initialValue","PAGE_LIMIT","UsersPage","isAll","lastQuery","handlePage","prevProps","prevState","snapshot","pageNum","Container","App","interval","setInterval","clearInterval","render","match","params","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a0e127b.chunk.js","sourcesContent":["export const SHOW_MESSAGE = 'SHOW_MESSAGE';\nexport const HIDE_MESSAGE = 'HIDE_MESSAGE';\n\nexport const SHOW_LOADER = 'SHOW_LOADER';\nexport const HIDE_LOADER = 'HIDE_LOADER';\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILED = 'LOGIN_FAILED';\n\nexport const GET_USER_DATA = 'GET_USER_DATA';\n\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAILED = 'REGISTER_FAILED';\n\nexport const LOGOUT = 'LOGOUT';\n\nexport const GET_USER_SUCCESS = 'GET_USER_SUCCESS';\nexport const GET_USER_FAILED = 'GET_USER_FAILED';\n\nexport const ADD_HOBBY_SUCCESS = 'ADD_HOBBY';\nexport const DELETE_HOBBY_SUCCESS = 'DELETE_HOBBY';\n\n\nexport const GET_USERS = 'GET_USERS';\nexport const CLEAR_USERS = 'CLEAR_USERS';\nexport const CLEAR_USER = 'CLEAR_USER';\n\nexport const DELETE_FRIENDSHIP = 'DELETE_FRIENDSHIP';\nexport const ADD_FRIEND_REQUEST = 'ADD_FRIEND_REQUEST';\nexport const DELETE_FRIEND_REQUEST = 'DELETE_FRIEND_REQUEST';\nexport const ACCEPT_FRIEND_REQUEST = 'ACCEPT_FRIEND_REQUEST';\nexport const DECLINE_FRIEND_REQUEST = 'DECLINE_FRIEND_REQUEST';\n\nexport const GET_FRIEND_REQUEST_USERS = 'GET_FRIEND_REQUEST_USERS';\n","const TOKEN_FIELD_NAME = 'ACCESS_TOKEN';\nexport const REQUEST_STATUSES = {\n  WAITING: 'WAITING',\n  DECLINED: 'DECLINED',\n}\n\n// TODO: ADD PAGINATE LATER\n\nexport const parsePayloadError = response => {\n  const errors = {};\n  response.data.detail.forEach(item => {\n    const name = item.loc[item.loc.length - 1];\n    errors[name] = item.msg;\n  });\n  return errors;\n}\n\n\nexport const storeTokenIntoStorage = token => {\n  localStorage.setItem(TOKEN_FIELD_NAME, JSON.stringify(token));\n}\n\nexport const loadTokenFromStorage = () => {\n  const token = localStorage.getItem(TOKEN_FIELD_NAME);\n  if (!token) {\n    return null;\n  }\n  const parsedToken = JSON.parse(token);\n  if (parsedToken.expired_at < new Date().getTime() / 1000) {\n    return null;\n  }\n  return parsedToken;\n};\n\nexport const deleteTokenFromStorage = () => {\n  localStorage.removeItem(TOKEN_FIELD_NAME);\n}\n\n\nexport const arrayToQueryString = (name, arr) => {\n  const encodedName = encodeURIComponent(name);\n  const str = arr.map(item => `${encodedName}=${encodeURIComponent(item)}`);\n  return str.join(\"&\");\n}\n\nexport const toQueryString = obj => {\n  const str = Object.keys(obj).map(key => {\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(obj[key])\n  })\n\n  return str.join(\"&\");\n}\n\n\n","import {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\nimport {loadTokenFromStorage, REQUEST_STATUSES} from './utils';\n\nimport {\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  SHOW_LOADER,\n  HIDE_LOADER,\n  SHOW_MESSAGE,\n  HIDE_MESSAGE,\n  REGISTER_SUCCESS,\n  REGISTER_FAILED,\n  GET_USER_SUCCESS,\n  ADD_HOBBY_SUCCESS,\n  DELETE_HOBBY_SUCCESS,\n  LOGOUT,\n  GET_USERS,\n  CLEAR_USERS,\n  CLEAR_USER,\n  DELETE_FRIENDSHIP,\n  ADD_FRIEND_REQUEST,\n  DELETE_FRIEND_REQUEST,\n  ACCEPT_FRIEND_REQUEST,\n  DECLINE_FRIEND_REQUEST,\n  GET_USER_DATA,\n  GET_FRIEND_REQUEST_USERS,\n} from './actions';\n\n\nconst DEFAULT_TOKEN = {\n  id: 0,\n  value: '',\n  user_id: 0,\n  expired_at: '',\n}\n\nconst DEFAULT_USER = {\n  id: 0,\n  first_name: '',\n  last_name: '',\n  age: 0,\n  gender: null,\n  city: '',\n  hobbies: []\n}\n\nconst initialState = {\n  userData: {\n    isAuthenticated: !!loadTokenFromStorage(),\n    authentication: loadTokenFromStorage() || DEFAULT_TOKEN,\n    user: DEFAULT_USER,\n    friends: [],\n    friendRequests: [],\n    friendRequestUsers: []\n  },\n  user: DEFAULT_USER,\n  users: [],\n  requestCount: 0,\n  message: '',\n  registerErrors: {\n    email: null,\n    first_name: null,\n    last_name: null,\n    password: null,\n    city: null,\n    age: null,\n    gender: null,\n    general: null,\n  },\n  loginErrors: {\n    email: null,\n    password: null,\n  },\n  error: ''\n}\nexport const store = createStore(\n  reducer,\n  initialState,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n);\n\nexport default function reducer(state = initialState, action) {\n  const payload = action.payload;\n\n  switch (action.type) {\n    case SHOW_MESSAGE: {\n      return {...state, message: payload}\n    }\n    case HIDE_MESSAGE: {\n      return {...state, message: ''}\n    }\n    case SHOW_LOADER: {\n      return {...state, requestCount: state.requestCount + 1}\n    }\n    case HIDE_LOADER: {\n      return {...state, requestCount: state.requestCount - 1}\n    }\n    case REGISTER_SUCCESS: {\n      return {...state, registerErrors: {}}\n    }\n    case REGISTER_FAILED: {\n      return {...state, registerErrors: payload}\n    }\n    case LOGIN_SUCCESS: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          authentication: payload,\n          isAuthenticated: true,\n        },\n        loginErrors: {}\n      }\n    }\n    case LOGIN_FAILED: {\n      return {...state, loginErrors: payload}\n    }\n    case LOGOUT: {\n      return {\n        ...state,\n        userData: {\n          user: DEFAULT_USER,\n          friends: [],\n          friendRequests: [],\n          friendRequestUsers: [],\n          authentication: DEFAULT_TOKEN,\n          isAuthenticated: false,\n        },\n      }\n    }\n    case GET_USER_DATA: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          user: payload.user,\n          friends: payload.friends,\n          friendRequests: payload.friendRequests\n        },\n      }\n    }\n    case GET_USER_SUCCESS: {\n      return {...state, user: payload}\n    }\n    case CLEAR_USER: {\n      return {...state, user: DEFAULT_USER}\n    }\n    case ADD_HOBBY_SUCCESS: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          user: {\n            ...state.userData.user,\n            hobbies: [...state.userData.user.hobbies, payload]\n          }\n        }\n      }\n    }\n    case DELETE_HOBBY_SUCCESS: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          user: {\n            ...state.userData.user,\n            hobbies: state.userData.user.hobbies.filter(h => h.id !== payload)\n          }\n        }\n      }\n    }\n    case GET_USERS: {\n      return {...state, users: payload}\n    }\n    case CLEAR_USERS: {\n      return {...state, users: []}\n    }\n\n    case DELETE_FRIENDSHIP: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          friends: state.userData.friends.filter(user => user.id !== payload)\n        }\n      }\n    }\n\n    case ADD_FRIEND_REQUEST: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          friendRequests: [...state.userData.friendRequests, payload]\n        }\n      }\n    }\n\n    case DELETE_FRIEND_REQUEST: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          friendRequests: state.userData.friendRequests.filter(req => req.id !== payload)\n        }\n      }\n    }\n\n    case ACCEPT_FRIEND_REQUEST: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          friendRequests: state.userData.friendRequests.filter(req => req.id !== payload.requestId),\n          friends: [...state.userData.friends, payload.friend]\n        }\n      }\n    }\n\n    case DECLINE_FRIEND_REQUEST: {\n      const friendRequests = state.userData.friendRequests;\n      const requestsWithoutChanges = friendRequests.filter(req => req.id !== payload);\n      const changedRequest = friendRequests.find(req => req.id === payload);\n      changedRequest.status = REQUEST_STATUSES.DECLINED;\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          friendRequests: [...requestsWithoutChanges, changedRequest],\n        }\n      }\n    }\n    case GET_FRIEND_REQUEST_USERS: {\n      return {\n        ...state,\n        userData: {\n          ...state.userData,\n          friendRequestUsers: payload,\n        }\n      }\n    }\n\n    default:\n      return state\n  }\n}\n","import {default as axiosBase} from 'axios';\nimport {\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  SHOW_LOADER,\n  SHOW_MESSAGE,\n  HIDE_LOADER,\n  HIDE_MESSAGE,\n  REGISTER_FAILED,\n  REGISTER_SUCCESS,\n  GET_USER_SUCCESS,\n  ADD_HOBBY_SUCCESS,\n  DELETE_HOBBY_SUCCESS,\n  LOGOUT,\n  GET_USERS,\n  CLEAR_USER,\n  CLEAR_USERS,\n  DELETE_FRIENDSHIP,\n  ADD_FRIEND_REQUEST,\n  DELETE_FRIEND_REQUEST,\n  ACCEPT_FRIEND_REQUEST,\n  DECLINE_FRIEND_REQUEST,\n  GET_USER_DATA,\n  GET_FRIEND_REQUEST_USERS\n} from \"./actions\";\nimport {\n  deleteTokenFromStorage,\n  storeTokenIntoStorage,\n  parsePayloadError,\n  toQueryString,\n  arrayToQueryString\n} from \"./utils\";\nimport {store} from './store';\n\nexport const API_BASE = '/api/v1';\n\nconst AXIOS_CONFIG = {\n  timeout: 20000,\n  headers: {\n    \"X-Requested-With\": \"XMLHttpRequest\",\n    \"Content-Type\": \"application/json\",\n  },\n}\n\nconst axios = axiosBase.create(AXIOS_CONFIG);\n\nconst getAuthorizedAxios = () => {\n  const state = store.getState();\n  const config = {\n    ...AXIOS_CONFIG,\n    headers: {\n      ...AXIOS_CONFIG.headers,\n      \"X-Auth-Token\": state.userData.authentication && state.userData.authentication.value\n    }\n  }\n  return axiosBase.create(config)\n}\n\nconst messageTimeout = 3;\n\n\nexport const showMessage = message => {\n  return dispatch => {\n    dispatch({type: SHOW_MESSAGE, payload: message});\n    setTimeout(() => dispatch({type: HIDE_MESSAGE}), messageTimeout * 1000);\n  }\n}\n\nexport const showLoader = () => {\n  return dispatch => {\n    dispatch({type: SHOW_LOADER});\n  }\n}\n\nexport const hideLoader = () => {\n  return dispatch => {\n    dispatch({type: HIDE_LOADER});\n  }\n}\n\nexport const login = (email, password) => {\n  return async dispatch => {\n    dispatch(showLoader());\n    let isSuccess = false;\n    try {\n      const response = await axios.post(`${API_BASE}/auth/login/`, {email, password});\n      isSuccess = true;\n      storeTokenIntoStorage(response.data);\n      dispatch({type: LOGIN_SUCCESS, payload: response.data});\n    } catch (e) {\n      console.log(e);\n      switch (e.response.status) {\n        case 422: {\n          dispatch({\n            type: LOGIN_FAILED,\n            payload: parsePayloadError(e.response)\n          });\n          break;\n        }\n        case 400: {\n          dispatch({\n            type: LOGIN_FAILED,\n            payload: {email: e.response.data.detail}\n          });\n          break;\n        }\n        default: {\n          dispatch({\n            type: LOGIN_FAILED,\n            payload: {general: \"Unexpected error\"}\n          });\n        }\n      }\n      dispatch(showMessage(\"Login failed\"));\n    }\n    dispatch(hideLoader());\n    return isSuccess;\n  }\n}\n\nexport const logout = () => {\n  return dispatch => {\n    deleteTokenFromStorage();\n    dispatch({type: LOGOUT})\n  }\n}\n\nexport const getUserData = id => {\n  return async dispatch => {\n    const axios = getAuthorizedAxios();\n    try {\n      const userPromise = axios.get(`${API_BASE}/users/${id}/`);\n      const friendsPromise = axios.get(`${API_BASE}/users/?friends_of=${id}`);\n      const friendRequestsPromise = axios.get(`${API_BASE}/friendships/`);\n      const [user, friends, friendRequests] = await Promise.all(\n        [userPromise, friendsPromise, friendRequestsPromise]\n      );\n      dispatch({\n        type: GET_USER_DATA, payload: {\n          user: user.data,\n          friends: friends.data || [],\n          friendRequests: friendRequests.data || []\n        }\n      });\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage(\"Auth data failed. Please reload page.\"));\n    }\n  }\n}\n\n\nexport const register = (\n  {\n    email,\n    password,\n    first_name,\n    last_name,\n    age,\n    gender,\n    city\n  }\n) => {\n  return async dispatch => {\n    dispatch(showLoader());\n    const payload = {email, password, first_name, last_name, age, gender, city};\n    let isSuccess = false;\n    try {\n      await axios.post(`${API_BASE}/auth/register/`, payload);\n      isSuccess = true;\n      dispatch(showMessage(\"Success!\"));\n      dispatch({type: REGISTER_SUCCESS});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage(\"Registration failed\"));\n      switch (e.response.status) {\n        case 422: {\n          dispatch({\n            type: REGISTER_FAILED,\n            payload: parsePayloadError(e.response)\n          });\n          break;\n        }\n        case 400: {\n          dispatch({\n            type: REGISTER_FAILED,\n            payload: {email: e.response.data.detail}\n          });\n          break;\n        }\n        default: {\n          dispatch({\n            type: REGISTER_FAILED,\n            payload: {general: \"Unexpected error\"}\n          });\n        }\n      }\n    }\n    dispatch(hideLoader());\n    return isSuccess;\n  }\n}\n\n\nexport const getUser = userId => {\n  return async dispatch => {\n    let isSuccess = false;\n    dispatch(showLoader());\n    try {\n      const response = await axios.get(`${API_BASE}/users/${userId}/`);\n      isSuccess = true;\n      dispatch({type: GET_USER_SUCCESS, payload: response.data});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Get user failed'))\n    }\n    dispatch(hideLoader());\n    return isSuccess;\n  }\n}\n\n\nexport const addHobby = name => {\n  return async dispatch => {\n    dispatch(showLoader());\n    const axios = getAuthorizedAxios();\n    try {\n      const createResponse = await axios.post(`${API_BASE}/hobbies/`, {name});\n      await axios.put(`${API_BASE}/users/hobbies/${createResponse.data.id}/`);\n      dispatch({type: ADD_HOBBY_SUCCESS, payload: createResponse.data});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Add hobby failed'))\n    }\n    dispatch(hideLoader());\n  }\n}\n\nexport const deleteHobby = id => {\n  return async dispatch => {\n    dispatch(showLoader());\n    const axios = getAuthorizedAxios();\n    try {\n      await axios.delete(`${API_BASE}/users/hobbies/${id}/`);\n      dispatch({type: DELETE_HOBBY_SUCCESS, payload: id});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Delete hobby failed'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\nexport const getFriends = id => {\n  return async dispatch => {\n    dispatch(showLoader());\n    try {\n      const response = await axios.get(`${API_BASE}/users/?friends_of=${id}`,);\n      dispatch({type: GET_USERS, payload: response.data});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Get friends failed'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\nexport const clearUser = () => {\n  return dispatch => {\n    dispatch({type: CLEAR_USER});\n  }\n}\n\nexport const clearUsers = () => {\n  return dispatch => {\n    dispatch({type: CLEAR_USERS});\n  }\n}\n\nexport const getUsers = (first_name, last_name, page = 1, paginate_by = 100) => {\n  return async dispatch => {\n    dispatch(showLoader());\n    const query = toQueryString({first_name, last_name, page, paginate_by});\n    try {\n      const response = await axios.get(`${API_BASE}/users/?${query}`,);\n      dispatch({type: GET_USERS, payload: response.data});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Get users failed'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\nexport const deleteFriendship = id => {\n  return async dispatch => {\n    const axios = getAuthorizedAxios();\n    dispatch(showLoader());\n    try {\n      await axios.delete(`${API_BASE}/friendships/friendship/${id}/`,);\n      dispatch({type: DELETE_FRIENDSHIP, payload: id});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Friendship deleting failed'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\nexport const addFriendRequest = userId => {\n  return async dispatch => {\n    const axios = getAuthorizedAxios();\n    dispatch(showLoader());\n    try {\n      const response = await axios.post(`${API_BASE}/friendships/${userId}/`);\n      dispatch({type: ADD_FRIEND_REQUEST, payload: response.data});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Add friend failed'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\nexport const deleteFriendRequest = id => {\n  return async dispatch => {\n    const axios = getAuthorizedAxios();\n    dispatch(showLoader());\n    try {\n      await axios.delete(`${API_BASE}/friendships/${id}/`);\n      dispatch({type: DELETE_FRIEND_REQUEST, payload: id});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Friend request deleting failed'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\nexport const acceptFriendRequest = id => {\n  return async dispatch => {\n    const axios = getAuthorizedAxios();\n    dispatch(showLoader());\n    try {\n      const response = await axios.put(`${API_BASE}/friendships/accept/${id}/`);\n      const userResponse = await axios.get(`${API_BASE}/users/${response.data.friend_id}/`);\n      dispatch({type: ACCEPT_FRIEND_REQUEST, payload: {requestId: id, friend: userResponse.data}});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Friend request accepting failed.'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\n\nexport const declineFriendRequest = id => {\n  return async dispatch => {\n    const axios = getAuthorizedAxios();\n    dispatch(showLoader());\n    try {\n      await axios.put(`${API_BASE}/friendships/decline/${id}/`);\n      dispatch({type: DECLINE_FRIEND_REQUEST, payload: id});\n    } catch (e) {\n      console.log(e);\n      dispatch(showMessage('Friend request declining failed.'));\n    }\n    dispatch(hideLoader());\n  }\n}\n\n\nexport const getFriendRequestUsers = ids => {\n  return async dispatch => {\n    dispatch(showLoader());\n    try {\n      const response = await axios.get(`${API_BASE}/users/?${arrayToQueryString('ids', ids)}`);\n      dispatch({type: GET_FRIEND_REQUEST_USERS, payload: response.data});\n    } catch (e) {\n      console.log(e);\n    }\n    dispatch(hideLoader());\n  }\n}\n","import React from 'react';\nimport {Redirect} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\n\n\nclass AuthRedirect extends React.Component {\n\n\n  render() {\n    const {userData} = this.props;\n    const redirect = userData && userData.isAuthenticated;\n    return (\n      <React.Fragment>\n        {redirect ? <Redirect to={{pathname: `/${userData.authentication.user_id}`}}/> :\n          this.props.children}\n      </React.Fragment>\n    );\n  }\n}\n\n\nAuthRedirect.propTypes = {\n  userData: PropTypes.object.isRequired,\n}\n\n\nconst mapStateToProps = state => ({\n  userData: state.userData,\n});\n\n\nexport default connect(mapStateToProps, null)(AuthRedirect);\n","import {TextField, FormControl, InputLabel, Select, MenuItem} from \"@material-ui/core\";\n\n\nexport function SimpleField(\n  {\n    input: {name, onChange, value, ...restInput},\n    meta, submitError, ...rest\n  }) {\n  return <TextField\n    {...rest}\n    name={name}\n    helperText={meta.touched ? meta.error || submitError : undefined}\n    error={(meta.error || submitError) && meta.touched}\n    inputProps={restInput}\n    onChange={onChange}\n    value={value}\n    style={{margin: 10, minWidth: '60%'}}\n    id=\"outlined-basic\"\n    variant=\"outlined\"\n  />\n}\n\n\nexport function SimpleSelect(\n  {\n    input: {name, onChange, value, ...restInput},\n    meta, submitError, label, options, ...rest\n  }) {\n  return <FormControl variant=\"outlined\" style={{margin: 10, minWidth: '60%'}}>\n    <InputLabel id=\"demo-simple-select-outlined-label\">{label}</InputLabel>\n    <Select\n      {...rest}\n      name={name}\n      helperText={meta.touched ? meta.error || submitError : undefined}\n      error={(meta.error || submitError) && meta.touched}\n      inputProps={restInput}\n      labelId=\"demo-simple-select-outlined-label\"\n      id=\"demo-simple-select-outlined\"\n      value={value}\n      onChange={onChange}\n      label={label}\n    >\n      {Object.keys(options).map(option =>\n        <MenuItem key={\"select\" + option} value={option}>\n          {options[option]}\n        </MenuItem>)}\n    </Select>\n  </FormControl>\n\n}\n","export const required = value => (value ? undefined : 'Required');\n","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nimport {Chip} from \"@material-ui/core\";\n\nconst chipStyle = {\n  marginTop: '3px',\n  marginRight: '5px',\n}\n\nexport default class Hobbies extends React.Component {\n\n  render() {\n    const {hobbies} = this.props;\n    const key = Math.random().toString(36).substring(7);\n    return (\n      <>\n        {hobbies.map(hobby =>\n          <Chip key={key + hobby.id} label={hobby.name} style={chipStyle}/>\n        )}\n      </>\n    );\n  }\n}\n\nHobbies.propTypes = {\n  hobbies: PropTypes.array.isRequired,\n}\n\n\n\n","import React from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport {AppBar, Toolbar, Button} from \"@material-ui/core\";\nimport {connect} from \"react-redux\";\nimport {bindActionCreators} from \"redux\";\nimport {logout} from \"../../../app/actionCreators\";\nimport {Loader} from \"../index\";\n\n\nclass Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.toPath = this.toPath.bind(this);\n  }\n\n\n  toPath(path) {\n    this.props.history.push(path);\n  }\n\n\n  render() {\n    const {isAuthenticated, logout, user} = this.props;\n\n\n    return (\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Button\n            color=\"inherit\"\n            onClick={() => this.toPath('/')}>\n            Social Network\n          </Button>\n          {isAuthenticated && <Button\n            color=\"inherit\"\n            onClick={() => this.toPath('/login')}>\n            {user.first_name} {user.last_name}\n          </Button>}\n          {isAuthenticated && <Button\n            color=\"inherit\"\n            onClick={logout}>\n            Logout\n          </Button>}\n          {!isAuthenticated && <Button\n            color=\"inherit\"\n            onClick={() => this.toPath('/login')}>\n            Login\n          </Button>}\n          {!isAuthenticated && <Button\n            color=\"inherit\"\n            onClick={() => this.toPath('/register')}>\n            Register\n          </Button>}\n          <Loader/>\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.userData.isAuthenticated,\n  user: state.userData.user\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    logout,\n  }, dispatch)\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n","import React from \"react\";\nimport {bindActionCreators} from \"redux\";\nimport {deleteFriendship} from \"../../../../app/actionCreators\";\nimport {connect} from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {Chip} from \"@material-ui/core\";\n\n\nclass Friend extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  handleDelete() {\n    const {user, deleteFriendship} = this.props;\n    deleteFriendship(user.id);\n  }\n\n  render() {\n    return <Chip label=\"Friend\" onDelete={this.handleDelete} color=\"primary\"/>\n  }\n}\n\nFriend.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    deleteFriendship,\n  }, dispatch)\n}\n\nexport default connect(null, mapDispatchToProps)(Friend);\n","import React from \"react\";\nimport {bindActionCreators} from \"redux\";\nimport {addFriendRequest} from \"../../../../app/actionCreators\";\nimport {connect} from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {Chip} from \"@material-ui/core\";\n\n\nclass Unknown extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.handleAdd = this.handleAdd.bind(this);\n  }\n\n  handleAdd() {\n    const {user, addFriendRequest} = this.props;\n    addFriendRequest(user.id);\n  }\n\n  render() {\n    return <Chip label=\"Add Friend\" onClick={this.handleAdd}/>\n  }\n}\n\nUnknown.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    addFriendRequest,\n  }, dispatch)\n}\n\nexport default connect(null, mapDispatchToProps)(Unknown);\n","import React from \"react\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport {acceptFriendRequest, declineFriendRequest} from \"../../../../app/actionCreators\";\nimport {Chip} from \"@material-ui/core\";\n\n\nclass WaitingYou extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.handleAccept = this.handleAccept.bind(this);\n    this.handleDecline = this.handleDecline.bind(this);\n    this.getFriendRequest = this.getFriendRequest.bind(this);\n  }\n\n  getFriendRequest() {\n    const {userData, user} = this.props;\n    return userData.friendRequests.find(req => {\n      return req.to_user === userData.user.id && req.from_user === user.id;\n    })\n  }\n\n  handleAccept(friendRequest) {\n    this.props.acceptFriendRequest(friendRequest.id);\n  }\n\n  handleDecline(friendRequest) {\n    this.props.declineFriendRequest(friendRequest.id);\n  }\n\n  render() {\n    const friendRequest = this.getFriendRequest();\n\n    return <Chip\n      label='Accept'\n      onDelete={() => this.handleDecline(friendRequest)}\n      onClick={() => this.handleAccept(friendRequest)}\n      color='secondary'\n    />\n  }\n}\n\nWaitingYou.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  userData: state.userData\n});\n\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    acceptFriendRequest, declineFriendRequest\n  }, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WaitingYou);\n","import React from \"react\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport {deleteFriendRequest} from \"../../../../app/actionCreators\";\nimport {REQUEST_STATUSES} from \"../../../../app/utils\";\nimport {Chip} from \"@material-ui/core\";\n\n\nclass WaitingUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.getFriendRequest = this.getFriendRequest.bind(this);\n  }\n\n  getFriendRequest() {\n    const {userData, user} = this.props;\n    return userData.friendRequests.find(req => {\n      return req.from_user === userData.user.id && req.to_user === user.id;\n    })\n  }\n\n\n  handleDelete(friendRequest) {\n    this.props.deleteFriendRequest(friendRequest.id);\n  }\n\n  render() {\n    const friendRequest = this.getFriendRequest();\n    const isWaiting = friendRequest.status === REQUEST_STATUSES.WAITING;\n    const text = isWaiting ? 'Waiting user response' : 'User decline your request';\n    return <Chip\n      label={text}\n      onDelete={() => this.handleDelete(friendRequest)}\n      color='secondary'\n    />\n  }\n}\n\nWaitingUser.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  userData: state.userData\n});\n\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    deleteFriendRequest\n  }, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WaitingUser);\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\n\nimport {You, Friend, WaitingYou, WaitingUser, Unknown} from './statuses'\n\n\nconst statusComponents = {\n  YOU: You,\n  FRIEND: Friend,\n  WAITING_YOU_RESPONSE: WaitingYou,\n  WAITING_USER_RESPONSE: WaitingUser,\n  UNKNOWN: Unknown,\n}\n\n\nclass UserStatus extends React.Component {\n\n  getComponent() {\n    const {user, userData} = this.props;\n    const current = userData.user;\n\n    if (!userData.isAuthenticated) {\n      return statusComponents.UNKNOWN;\n    }\n\n    if (user.id === userData.authentication.user_id) {\n      return statusComponents.YOU;\n    }\n    if (userData.friends.find(friend => friend.id === user.id)) {\n      return statusComponents.FRIEND;\n    }\n    const friendRequestFrom = userData.friendRequests.find(req => {\n      return req.from_user === current.id && req.to_user === user.id;\n    })\n    if (friendRequestFrom) {\n      return statusComponents.WAITING_USER_RESPONSE\n    }\n    const friendRequestTo = userData.friendRequests.find(req => {\n      return req.to_user === current.id && req.from_user === user.id;\n    })\n    if (friendRequestTo) {\n      return statusComponents.WAITING_YOU_RESPONSE;\n    }\n    return statusComponents.UNKNOWN;\n  }\n\n  render() {\n    const StatusComponent = this.getComponent();\n    return <StatusComponent user={this.props.user}/>;\n  }\n}\n\nUserStatus.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  userData: state.userData,\n});\n\n\nexport default connect(mapStateToProps, null)(UserStatus);\n\n\n\n","import React from \"react\";\nimport {Chip} from \"@material-ui/core\";\n\nexport default class You extends React.Component{\n  render() {\n    return <Chip label=\"You\" color=\"primary\"/>\n  }\n}\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport UserStatus from \"./UserStatus\";\nimport {Typography} from \"@material-ui/core\";\nimport {connect} from \"react-redux\";\n\n\nconst typographyStyle = {\n  display: 'flex',\n  justifyContent: 'space-between'\n}\n\n\nclass UserInfo extends React.Component {\n\n\n  render() {\n    const {user, isAuthenticated} = this.props;\n\n    return <>\n      <Typography variant=\"h6\" component=\"h2\" style={typographyStyle}>\n        <Link to={`/${user.id}`}>{user.first_name} {user.last_name}</Link>\n        {isAuthenticated && <UserStatus user={user}/>}\n      </Typography>\n      <p><b>Age:</b> {user.age}</p>\n      {user.city && <p><b>City:</b> {user.city}</p>}\n      {user.gender && <p><b>Gender:</b> {user.gender}</p>}\n    </>\n  }\n}\n\nUserInfo.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.userData.isAuthenticated,\n});\n\n\nexport default connect(mapStateToProps, null)(UserInfo);\n\n\n\n\n\n\n\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport Hobbies from \"./Hobbies\";\nimport {Card} from \"@material-ui/core\";\nimport UserInfo from \"./UserInfo\";\n\nconst style = {\n  padding: '10px',\n  height: '90%'\n}\n\n\nexport default class UserCard extends React.Component {\n\n\n  render() {\n    const {user} = this.props;\n\n    return (\n      <Card style={style}>\n        <UserInfo user={user}/>\n        <Hobbies hobbies={user.hobbies}/>\n      </Card>\n    );\n  }\n}\n\nUserCard.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\n\n\n\n\n\n\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {CircularProgress} from \"@material-ui/core\";\n\n\n\nclass Loader extends React.Component {\n\n\n  render() {\n\n    return (\n      <>\n        {!!this.props.requestCount && <CircularProgress color=\"inherit\"/>}\n      </>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  requestCount: state.requestCount,\n});\n\n\nexport default connect(mapStateToProps, null)(Loader);\n","import React from 'react';\nimport {connect} from \"react-redux\";\n\nimport {Snackbar} from \"@material-ui/core\";\n\n\nclass Notification extends React.Component {\n\n\n  render() {\n    const {message} = this.props;\n\n    return <Snackbar\n      open={!!message}\n      anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n      message={message}\n      severity=\"error\"\n    />\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  message: state.message,\n});\n\n\nexport default connect(mapStateToProps, null)(Notification);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Field} from 'react-final-form';\nimport {connect} from \"react-redux\";\n\nimport {SimpleField, required} from \"../../common\";\nimport {Button} from \"@material-ui/core\";\n\n\nclass LoginForm extends React.Component {\n\n  render() {\n    const {handleSubmit, errors} = this.props;\n\n    return (\n      <form onSubmit={handleSubmit}>\n        <Field name=\"email\" validate={required} type=\"email\">\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"Email\"}\n              submitError={errors.email}\n            />\n          }}\n        </Field>\n        <Field name=\"password\" type=\"password\" validate={required}>\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"Password\"}\n              submitError={errors.password}\n            />\n          }}\n        </Field>\n        {errors.general && <div>{errors.general}</div>}\n        <div>\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\">\n            Submit\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nLoginForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  errors: PropTypes.object,\n}\n\n\nconst mapStateToProps = state => ({\n  errors: state.loginErrors,\n});\n\nexport default connect(mapStateToProps, null)(LoginForm);\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {bindActionCreators} from \"redux\";\nimport {Form} from \"react-final-form\";\n\nimport {login} from \"../../../app/actionCreators\";\nimport LoginForm from \"./Form\";\nimport {Card, Typography} from \"@material-ui/core\";\n\n\nconst style = {\n  minWidth: '50%',\n  minHeight: '200px',\n  padding: '20px',\n  margin: '40px',\n  textAlign: 'center',\n  justifyContent: 'center'\n}\n\nclass LoginPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  async handleSubmit(form) {\n    await this.props.login(form.email, form.password);\n  }\n\n  render() {\n    return (\n      <Card style={style}>\n         <Typography variant=\"h4\" component=\"h2\">\n          Login\n        </Typography>\n        <Form\n          component={LoginForm}\n          onSubmit={this.handleSubmit}\n        />\n      </Card>\n    );\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    login,\n  }, dispatch)\n}\n\nexport default connect(null, mapDispatchToProps)(LoginPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Field} from 'react-final-form';\n\nimport {SimpleField, SimpleSelect, required} from \"../../common\";\nimport {connect} from \"react-redux\";\nimport {Button} from \"@material-ui/core\";\n\n\nclass RegisterForm extends React.Component {\n\n  render() {\n    const {handleSubmit, errors} = this.props;\n    const genderOptions = {\"MALE\": \"Male\", \"FEMALE\": \"Female\", \"OTHER\": \"Other\"}\n    return (\n      <form onSubmit={handleSubmit}>\n        <Field name=\"email\" validate={required} type=\"email\">\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"Email\"}\n              placeholder={\"Email\"}\n              submitError={errors.email}\n            />\n          }}\n        </Field>\n        <Field name=\"password\" type=\"password\" validate={required}>\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"Password\"}\n              placeholder={\"Password\"}\n              submitError={errors.password}\n            />\n          }}\n        </Field>\n        <Field name=\"confirm\" type=\"password\" validate={required}>\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"Confirm password\"}\n              placeholder={\"Confirm\"}\n              submitError={null}\n            />\n          }}\n        </Field>\n        <Field name=\"first_name\" validate={required}>\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"First Name\"}\n              placeholder={\"First Name\"}\n              submitError={errors.first_name}\n            />\n          }}\n        </Field>\n        <Field name=\"last_name\">\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"Last Name\"}\n              placeholder={\"Last Name\"}\n              submitError={errors.last_name}\n            />\n          }}\n        </Field>\n        <Field name=\"city\">\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"City\"}\n              placeholder={\"City\"}\n              submitError={errors.city}\n            />\n          }}\n        </Field>\n        <Field name=\"gender\">\n          {({input, meta}) => {\n            return <SimpleSelect\n              input={input}\n              meta={meta}\n              label=\"Gender\"\n              submitError={errors.gender}\n              options={genderOptions}\n            />\n          }}\n        </Field>\n        <Field name=\"age\" type=\"number\" validate={required}>\n          {({input, meta}) => {\n            return <SimpleField\n              input={input}\n              meta={meta}\n              label={\"Age\"}\n              placeholder={\"Age\"}\n              submitError={errors.age}\n            />\n          }}\n        </Field>\n        {errors.general && <div>{errors.general}</div>}\n        <div>\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\">\n            Submit\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\n\nRegisterForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired,\n}\n\n\nconst mapStateToProps = state => ({\n  errors: state.registerErrors,\n});\n\nexport default connect(mapStateToProps, null)(RegisterForm);\n\n\n\n\n\n\n\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {bindActionCreators} from \"redux\";\nimport {Redirect} from \"react-router-dom\";\nimport {Form} from \"react-final-form\";\nimport PropTypes from \"prop-types\";\nimport {Card, Typography} from \"@material-ui/core\";\n\n\nimport {register} from \"../../../app/actionCreators\";\nimport RegisterForm from \"./Form\";\n\n\nconst style = {\n  minWidth: '50%',\n  minHeight: '200px',\n  padding: '20px',\n  margin: '40px',\n  textAlign: 'center',\n  justifyContent: 'center'\n}\n\n\nconst validateForm = values => {\n  if (values.password !== values.confirm) {\n    return {\n      confirmPassword: \"Passwords mismatch\"\n    }\n  }\n}\n\n\nclass RegisterPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {redirect: false};\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  async handleSubmit(form) {\n    const isSuccess = await this.props.register(form);\n    if (isSuccess) {\n      this.setState({redirect: true});\n    }\n  }\n\n  render() {\n\n    return (\n      <>\n        {this.state.redirect ?\n          <Redirect to={{pathname: \"/login\"}}/> :\n          <Card style={style}>\n            <Typography variant=\"h4\" component=\"h2\">\n              Register\n            </Typography>\n            <Form\n              component={RegisterForm}\n              onSubmit={this.handleSubmit}\n              validate={validateForm}\n            />\n          </Card>\n        }\n      </>);\n  }\n}\n\nRegisterPage.propTypes = {\n  register: PropTypes.func\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    register,\n  }, dispatch)\n}\n\nexport default connect(null, mapDispatchToProps)(RegisterPage);\n","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nimport {Field, Form} from \"react-final-form\";\nimport {required, SimpleField} from \"../../common\";\nimport {bindActionCreators} from \"redux\";\nimport {addHobby, deleteHobby} from \"../../../app/actionCreators\";\nimport {connect} from \"react-redux\";\nimport {Button, Chip} from \"@material-ui/core\";\n\nconst chipStyle = {\n  marginTop: '5px',\n  marginRight: '5px',\n}\n\nclass EditableHobbies extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.addHobby = this.addHobby.bind(this);\n  }\n\n  addHobby(values, form) {\n    this.props.addHobby(values.hobby);\n    setTimeout(() => form.restart(), 0);\n  }\n\n  deleteHobby(id) {\n    this.props.deleteHobby(id);\n  }\n\n  render() {\n    const {hobbies} = this.props;\n    const alreadyAdded = value => hobbies.find(hobby => hobby.name === value) ? 'Already added' : null;\n    const composeValidators = (...validators) => value =>\n      validators.reduce((error, validator) => error || validator(value), undefined)\n\n\n    return (\n      <div>\n        {hobbies.map(hobby => {\n          return <Chip\n            key={'hobby_' + hobby.id}\n            label={hobby.name}\n            onDelete={() => this.deleteHobby(hobby.id)}\n            style={chipStyle}/>\n        })}\n        <Form onSubmit={this.addHobby}>\n          {props => (\n            <form onSubmit={props.handleSubmit} style={{marginTop: '10px'}}>\n              <Field name=\"hobby\" validate={composeValidators(alreadyAdded, required)} type=\"text\">\n                {({input, meta}) => {\n                  return <SimpleField\n                    input={input}\n                    meta={meta}\n                    label={\"Hobby\"}\n                  />\n                }}\n              </Field>\n              <Button\n                style={{marginTop: '15px'}}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                size=\"large\">\n                Submit\n              </Button>\n            </form>\n          )}\n        </Form>\n      </div>\n    );\n  }\n}\n\nEditableHobbies.propTypes = {\n  hobbies: PropTypes.array.isRequired,\n  addHobby: PropTypes.func,\n  deleteHobby: PropTypes.func\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({addHobby, deleteHobby}, dispatch)\n}\n\n\nexport default connect(null, mapDispatchToProps)(EditableHobbies);\n\n\n\n\n\n\n","import React from 'react';\n\nimport {bindActionCreators} from \"redux\";\nimport {getFriendRequestUsers} from \"../../../app/actionCreators\";\nimport {connect} from \"react-redux\";\nimport {REQUEST_STATUSES} from \"../../../app/utils\";\nimport UserCard from \"../../common/components/UserCard\";\nimport PropTypes from \"prop-types\";\nimport {Grid} from \"@material-ui/core\";\n\n\nclass FriendRequests extends React.Component {\n\n\n  componentDidMount() {\n    const {userData} = this.props;\n    const friendRequests = userData.friendRequests;\n    const ids = friendRequests.map(req =>\n      req.from_user === userData.user.id ? req.to_user : req.from_user\n    )\n    this.props.getFriendRequestUsers(ids);\n  }\n\n  render() {\n    const {friendRequestUsers, friendRequests, user} = this.props.userData;\n    let users = friendRequestUsers;\n    if (!this.props.showDeclined) {\n      const declinedIds = friendRequests\n        .filter(req => req.status !== REQUEST_STATUSES.DECLINED)\n        .map(req => req.from_user === user.id ? req.to_user : req.from_user)\n      users = users.filter(user => declinedIds.find(id => id === user.id))\n    }\n\n    return <Grid item container spacing={2} justify=\"space-between\" direction=\"row\">\n      {users.map(user => <Grid item xs={6} key={'friend_request_user_' + user.id}>\n          <UserCard user={user}/>\n        </Grid>\n      )}\n    </Grid>\n  }\n}\n\nFriendRequests.propTypes = {\n  showDeclined: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = state => ({\n  userData: state.userData,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({getFriendRequestUsers}, dispatch)\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FriendRequests);\n\n\n\n\n\n\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {getUser, getFriends, clearUser, clearUsers} from '../../../app/actionCreators';\nimport {Hobbies, UserInfo, UserCard} from '../../common';\nimport EditableHobbies from './EditableHobbies';\nimport FriendRequests from './FriendRequests';\nimport {Card, Grid, Typography, FormControlLabel, Checkbox} from '@material-ui/core';\n\nconst cardStyle = {\n  padding: '20px',\n  height: '100%',\n  marginTop: '10px'\n}\n\nconst gridStyle = {\n  marginTop: '40px',\n  padding: '20px'\n}\n\nclass UserPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDeclinedFriendRequests: true\n    }\n  }\n\n  componentDidMount() {\n    const {id, getUser, getFriends} = this.props;\n    getUser(id);\n    getFriends(id);\n  }\n\n  componentWillUnmount() {\n    const {clearUser, clearUsers} = this.props;\n    clearUser();\n    clearUsers();\n  }\n\n\n  render() {\n    const {id, user, users, userData} = this.props;\n    const {showDeclinedFriendRequests} = this.state;\n    const isMyPage = Number(id) === userData.user.id;\n    const friends = isMyPage ? userData.friends : users;\n\n    return <Grid item container spacing={2} justify='space-between' direction='row'>\n      <Grid item xs={6}>\n        <Card style={cardStyle}>\n          <Typography variant='h5' component='h2'>\n            Common info\n          </Typography>\n          {user && user.id && <UserInfo user={user}/>}\n        </Card>\n      </Grid>\n      <Grid item xs={6}>\n        <Card style={cardStyle}>\n          <Typography variant='h5' component='h2'>\n            Hobbies\n          </Typography>\n          {isMyPage ? <EditableHobbies hobbies={userData.user.hobbies}/> :\n            <Hobbies hobbies={user ? user.hobbies : []}/>}\n        </Card>\n      </Grid>\n      {(isMyPage && !!userData.friendRequests.length) && <>\n        <Grid item xs={12} style={gridStyle}>\n          <Typography variant='h5' component='h2' style={\n            {justifyContent: 'space-between', display: 'flex'}}\n          >\n            Friend requests\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={showDeclinedFriendRequests}\n                  onChange={() => this.setState({\n                    showDeclinedFriendRequests: !showDeclinedFriendRequests\n                  })}\n                  name='showDeclined'\n                  color='primary'\n                />\n              }\n              label='Show declined requests'\n            />\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <FriendRequests showDeclined={showDeclinedFriendRequests}/>\n        </Grid>\n      </>}\n      <Grid item xs={12} style={gridStyle}>\n        <Typography variant='h5' component='h2'>\n          Friends\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid item container spacing={2} justify='space-between' direction='row' xs={12}>\n          {friends.map(user => <Grid item xs={6} key={'friend_' + user.id}>\n              <UserCard user={user}/>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  }\n}\n\nUserPage.propTypes = {\n  id: PropTypes.string.isRequired,\n  user: PropTypes.object,\n  accessToken: PropTypes.object,\n  getUser: PropTypes.func.isRequired,\n  getFriends: PropTypes.func.isRequired,\n  clearUser: PropTypes.func.isRequired,\n  clearUsers: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  userData: state.userData,\n  users: state.users,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getUser, getFriends, clearUser, clearUsers\n  }, dispatch)\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Field} from 'react-final-form';\nimport {Button, Card, Grid} from \"@material-ui/core\";\n\nimport {SimpleField} from \"../../common\";\n\nconst style = {\n  minWidth: '100%',\n  marginTop: '10px',\n  marginBottom: '10px',\n  textAlign: 'center',\n  justifyContent: 'center'\n}\n\n\nexport default class SearchForm extends React.Component {\n\n  render() {\n    const {handleSubmit} = this.props;\n\n    return (\n      <Card style={style}>\n        <form onSubmit={handleSubmit}>\n          <Grid container justify=\"center\" spacing={1}>\n            <Grid item>\n              <Field name=\"first_name\" type=\"text\" parse={value => value || ''} initialValue={''}>\n                {({input, meta}) => {\n                  return <SimpleField\n                    input={input}\n                    meta={meta}\n                    label={\"First Name\"}\n                    placeholder={\"First Name\"}\n                  />\n                }}\n              </Field>\n            </Grid>\n            <Grid item>\n              <Field name=\"last_name\" type=\"text\" parse={value => value || ''} initialValue={''}>\n                {({input, meta}) => {\n                  return <SimpleField\n                    input={input}\n                    meta={meta}\n                    label={\"Last Name\"}\n                    placeholder={\"Last Name\"}\n                  />\n                }}\n              </Field>\n            </Grid>\n            <Grid item style={{marginTop:'auto', marginBottom: 'auto'}}>\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\">\n                Submit\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Card>\n    )\n  }\n}\n\nSearchForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n}\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport {Form} from \"react-final-form\";\nimport {Button, Container, Grid, Typography} from \"@material-ui/core\";\n\n\nimport {getUsers, clearUsers} from \"../../../app/actionCreators\";\nimport SearchForm from \"./Form\";\nimport UserCard from \"../../common/components/UserCard\";\n\nconst PAGE_LIMIT = 100;\n\nconst style = {\n  backgroundColor: '#f5f5f5',\n  minWidth: '100%',\n  minHeight: '50px',\n  padding: '10px',\n  textAlign: 'center',\n  marginBottom: '10px',\n  justifyContent: 'center'\n}\n\n\nclass UsersPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      isAll: false,\n      lastQuery: {\n        first_name: '',\n        last_name: ''\n      }\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlePage = this.handlePage.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getUsers('', '', 1, PAGE_LIMIT);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const {users} = this.props;\n    if (prevProps.users.length === users.length) {\n      return\n    }\n    let isAll = false;\n    if (users.length < PAGE_LIMIT) {\n      isAll = true;\n    }\n    this.setState({...this.state, isAll});\n  }\n\n  componentWillUnmount() {\n    this.props.clearUsers();\n  }\n\n  handleSubmit(values) {\n    this.props.getUsers(values.first_name, values.last_name, 1, PAGE_LIMIT);\n    this.setState({...this.state, lastQuery: values});\n  }\n\n  handlePage(pageNum) {\n    const {lastQuery} = this.state;\n    this.props.getUsers(lastQuery.first_name, lastQuery.last_name, pageNum, PAGE_LIMIT);\n    this.setState({...this.state, page: pageNum});\n  }\n\n\n  render() {\n    const {users} = this.props;\n    const {page, isAll} = this.state;\n\n\n    return (\n      <Container>\n        <Form\n          component={SearchForm}\n          onSubmit={this.handleSubmit}\n        />\n          <Grid item container spacing={2} justify=\"space-between\" direction=\"row\">\n            {users.map(user => <Grid item xs={6} key={'user_' + user.id}>\n                <UserCard user={user}/>\n              </Grid>\n            )}\n            {!users.length && <Typography variant=\"h5\" component=\"h2\" style={{marginBottom: \"10px\"}}>\n              Users not found\n            </Typography>}\n          </Grid>\n        {(page > 1) && <Button\n          variant=\"contained\"\n          color=\"primary\"\n          type=\"submit\"\n          size=\"large\"\n          style={{marginRight: '10px'}}\n          onClick={() => this.handlePage(page - 1)}>\n          Previous\n        </Button>}\n        {!isAll && <Button\n          variant=\"contained\"\n          color=\"primary\"\n          type=\"submit\"\n          size=\"large\"\n          style={{marginRight: '10px'}}\n          onClick={() => this.handlePage(page + 1)}>\n          Next\n        </Button>}\n      </Container>\n    );\n  }\n}\n\nUsersPage.propTypes = {\n  getUsers: PropTypes.func.isRequired,\n  clearUsers: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  users: state.users,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({getUsers, clearUsers}, dispatch)\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersPage);\n","import React from 'react';\r\nimport {BrowserRouter as Router, Switch, Route,} from \"react-router-dom\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {getUserData} from \"./app/actionCreators\";\r\nimport {connect} from \"react-redux\";\r\nimport {Container, Grid} from \"@material-ui/core\";\r\n\r\nimport AuthRedirect from \"./components/common/components/AuthRedirect\";\r\nimport {LoginPage, RegisterPage, UserPage, UsersPage} from \"./components/pages\";\r\nimport Header from \"./components/common/components/Header\";\r\nimport {Notification} from \"./components/common\";\r\n\r\nimport './style.css'\r\n\r\nclass App extends React.Component {\r\n\r\n\r\n  componentDidMount() {\r\n    const {userData, getUserData} = this.props;\r\n    const {isAuthenticated, authentication, user} = userData;\r\n    if (isAuthenticated && user.id === 0) {\r\n      getUserData(authentication.user_id);\r\n    }\r\n    this.interval = setInterval(() => {\r\n      const {isAuthenticated, authentication} = this.props.userData;\r\n      if (isAuthenticated) {\r\n        getUserData(authentication.user_id);\r\n      }\r\n    }, 20 * 1000);\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {userData, getUserData} = this.props;\r\n    const stateChanged = prevProps.userData.isAuthenticated !== userData.isAuthenticated;\r\n    if (stateChanged && userData.isAuthenticated) {\r\n      getUserData(userData.authentication.user_id);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Router>\r\n        <Header/>\r\n        <Notification/>\r\n        <Container>\r\n          <Grid>\r\n            <Grid container justify='center'>\r\n              <Switch>\r\n                <Route path=\"/login\">\r\n                  <AuthRedirect>\r\n                    <LoginPage/>\r\n                  </AuthRedirect>\r\n                </Route>\r\n                <Route path=\"/register\">\r\n                  <AuthRedirect>\r\n                    <RegisterPage/>\r\n                  </AuthRedirect>\r\n                </Route>\r\n                <Route path=\"/:id\" render={({match}) =>\r\n                  <UserPage\r\n                    key={match.params.id}\r\n                    id={match.params.id}/>\r\n                }>\r\n                </Route>\r\n                <Route path=\"/\">\r\n                  <UsersPage/>\r\n                </Route>\r\n              </Switch>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  userData: state.userData,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getUserData\r\n  }, dispatch)\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\n\r\nimport App from './App';\r\nimport {store} from './app/store';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App/>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}