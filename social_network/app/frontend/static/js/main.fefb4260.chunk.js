(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(18),s=n.n(i),u=n(13),o=n(9),l=n(10),b=n(12),d=n(11),j=n(42),p=n(25),h=n(17),f=n(89),O=n(15),m=n.n(O),v=n(28),x=n(5),y=n(69),g=n.n(y),D="SHOW_MESSAGE",E="HIDE_MESSAGE",k="SHOW_LOADER",_="HIDE_LOADER",R="LOGIN_SUCCESS",C="LOGIN_FAILED",S="GET_USER_DATA",w="REGISTER_SUCCESS",A="REGISTER_FAILED",q="LOGOUT",U="GET_USER_SUCCESS",F="ADD_HOBBY",N="DELETE_HOBBY",I="GET_USERS",T="CLEAR_USERS",P="CLEAR_USER",L="DELETE_FRIENDSHIP",H="ADD_FRIEND_REQUEST",G="DELETE_FRIEND_REQUEST",W="ACCEPT_FRIEND_REQUEST",M="DECLINE_FRIEND_REQUEST",B="GET_FRIEND_REQUEST_USERS",Q="ACCESS_TOKEN",z="WAITING",Y="DECLINED",J=function(e){var t={};return e.data.detail.forEach((function(e){var n=e.loc[e.loc.length-1];t[n]=e.msg})),t},K=function(){var e=localStorage.getItem(Q);if(!e)return null;var t=JSON.parse(e);return t.expired_at<(new Date).getTime()/1e3?null:t},X=function(e,t){var n=encodeURIComponent(e);return t.map((function(e){return"".concat(n,"=").concat(encodeURIComponent(e))})).join("&")},V=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},Z=n(56),$=n(84),ee=n(85),te={id:0,value:"",user_id:0,expired_at:""},ne={id:0,first_name:"",last_name:"",age:0,gender:null,city:"",hobbies:[]},re={userData:{isAuthenticated:!!K(),authentication:K()||te,user:ne,friends:[],friendRequests:[],friendRequestUsers:[]},user:ne,users:[],requestCount:0,message:"",registerErrors:{email:null,first_name:null,last_name:null,password:null,city:null,age:null,gender:null,general:null},loginErrors:{email:null,password:null},error:""},ae=Object(h.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case D:return Object(x.a)(Object(x.a)({},e),{},{message:n});case E:return Object(x.a)(Object(x.a)({},e),{},{message:""});case k:return Object(x.a)(Object(x.a)({},e),{},{requestCount:e.requestCount+1});case _:return Object(x.a)(Object(x.a)({},e),{},{requestCount:e.requestCount-1});case w:return Object(x.a)(Object(x.a)({},e),{},{registerErrors:{}});case A:return Object(x.a)(Object(x.a)({},e),{},{registerErrors:n});case R:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{authentication:n,isAuthenticated:!0}),loginErrors:{}});case C:return Object(x.a)(Object(x.a)({},e),{},{loginErrors:n});case q:return Object(x.a)(Object(x.a)({},e),{},{userData:{user:ne,friends:[],friendRequests:[],friendRequestUsers:[],authentication:te,isAuthenticated:!1}});case S:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{user:n.user,friends:n.friends,friendRequests:n.friendRequests})});case U:return Object(x.a)(Object(x.a)({},e),{},{user:n});case P:return Object(x.a)(Object(x.a)({},e),{},{user:ne});case F:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{user:Object(x.a)(Object(x.a)({},e.userData.user),{},{hobbies:[].concat(Object(Z.a)(e.userData.user.hobbies),[n])})})});case N:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{user:Object(x.a)(Object(x.a)({},e.userData.user),{},{hobbies:e.userData.user.hobbies.filter((function(e){return e.id!==n}))})})});case I:return Object(x.a)(Object(x.a)({},e),{},{users:n});case T:return Object(x.a)(Object(x.a)({},e),{},{users:[]});case L:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friends:e.userData.friends.filter((function(e){return e.id!==n}))})});case H:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:[].concat(Object(Z.a)(e.userData.friendRequests),[n])})});case G:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:e.userData.friendRequests.filter((function(e){return e.id!==n}))})});case W:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:e.userData.friendRequests.filter((function(e){return e.id!==n.requestId})),friends:[].concat(Object(Z.a)(e.userData.friends),[n.friend])})});case M:var r=e.userData.friendRequests,a=r.filter((function(e){return e.id!==n})),c=r.find((function(e){return e.id===n}));return c.status=Y,Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequests:[].concat(Object(Z.a)(a),[c])})});case B:return Object(x.a)(Object(x.a)({},e),{},{userData:Object(x.a)(Object(x.a)({},e.userData),{},{friendRequestUsers:n})});default:return e}}),re,Object(ee.composeWithDevTools)(Object(h.applyMiddleware)($.a)));var ce="http://limitless-tor-46576.herokuapp.com/api/v1",ie={timeout:2e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}},se=g.a.create(ie),ue=function(){var e=ae.getState(),t=Object(x.a)(Object(x.a)({},ie),{},{headers:Object(x.a)(Object(x.a)({},ie.headers),{},{"X-Auth-Token":e.userData.authentication&&e.userData.authentication.value})});return g.a.create(t)},oe=function(e){return function(t){t({type:D,payload:e}),setTimeout((function(){return t({type:E})}),3e3)}},le=function(){return function(e){e({type:k})}},be=function(){return function(e){e({type:_})}},de=function(e,t){return function(){var n=Object(v.a)(m.a.mark((function n(r){var a,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(le()),a=!1,n.prev=2,n.next=5,se.post("".concat(ce,"/auth/login/"),{email:e,password:t});case 5:c=n.sent,a=!0,i=c.data,localStorage.setItem(Q,JSON.stringify(i)),r({type:R,payload:c.data}),n.next=23;break;case 11:n.prev=11,n.t0=n.catch(2),console.log(n.t0),n.t1=n.t0.response.status,n.next=422===n.t1?17:400===n.t1?19:21;break;case 17:return r({type:C,payload:J(n.t0.response)}),n.abrupt("break",22);case 19:return r({type:C,payload:{email:n.t0.response.data.detail}}),n.abrupt("break",22);case 21:r({type:C,payload:{general:"Unexpected error"}});case 22:r(oe("Login failed"));case 23:return r(be()),n.abrupt("return",a);case 25:case"end":return n.stop()}var i}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},je=function(){return function(e){localStorage.removeItem(Q),e({type:q})}},pe=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a,c,i,s,u,o,l,b;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ue(),t.prev=1,a=r.get("".concat(ce,"/users/").concat(e,"/")),c=r.get("".concat(ce,"/users/?friends_of=").concat(e)),i=r.get("".concat(ce,"/friendships/")),t.next=7,Promise.all([a,c,i]);case 7:s=t.sent,u=Object(f.a)(s,3),o=u[0],l=u[1],b=u[2],n({type:S,payload:{user:o.data,friends:l.data||[],friendRequests:b.data||[]}}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0),n(oe("Auth data failed. Please reload page."));case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},he=function(e){var t=e.email,n=e.password,r=e.first_name,a=e.last_name,c=e.age,i=e.gender,s=e.city;return function(){var e=Object(v.a)(m.a.mark((function e(u){var o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(le()),o={email:t,password:n,first_name:r,last_name:a,age:c,gender:i,city:s},l=!1,e.prev=3,e.next=6,se.post("".concat(ce,"/auth/register/"),o);case 6:l=!0,u(oe("Success!")),u({type:w}),e.next=23;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),u(oe("Registration failed")),e.t1=e.t0.response.status,e.next=422===e.t1?18:400===e.t1?20:22;break;case 18:return u({type:A,payload:J(e.t0.response)}),e.abrupt("break",23);case 20:return u({type:A,payload:{email:e.t0.response.data.detail}}),e.abrupt("break",23);case 22:u({type:A,payload:{general:"Unexpected error"}});case 23:return u(be()),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,n(le()),t.prev=2,t.next=5,se.get("".concat(ce,"/users/").concat(e,"/"));case 5:a=t.sent,r=!0,n({type:U,payload:a.data}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),n(oe("Get user failed"));case 14:return n(be()),t.abrupt("return",r);case 16:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(le()),r=ue(),t.prev=2,t.next=5,r.post("".concat(ce,"/hobbies/"),{name:e});case 5:return a=t.sent,t.next=8,r.put("".concat(ce,"/users/hobbies/").concat(a.data.id,"/"));case 8:n({type:F,payload:a.data}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0),n(oe("Add hobby failed"));case 15:n(be());case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(le()),r=ue(),t.prev=2,t.next=5,r.delete("".concat(ce,"/users/hobbies/").concat(e,"/"));case 5:n({type:N,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(oe("Delete hobby failed"));case 12:n(be());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(le()),t.prev=1,t.next=4,se.get("".concat(ce,"/users/?friends_of=").concat(e));case 4:r=t.sent,n({type:I,payload:r.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(oe("Get friends failed"));case 12:n(be());case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},xe=function(){return function(e){e({type:P})}},ye=function(){return function(e){e({type:T})}},ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return function(){var a=Object(v.a)(m.a.mark((function a(c){var i,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(le()),i=V({first_name:e,last_name:t,page:n,paginate_by:r}),a.prev=2,a.next=5,se.get("".concat(ce,"/users/?").concat(i));case 5:s=a.sent,c({type:I,payload:s.data}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0),c(oe("Get users failed"));case 13:c(be());case 14:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()},De=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ue(),n(le()),t.prev=2,t.next=5,r.delete("".concat(ce,"/friendships/friendship/").concat(e,"/"));case 5:n({type:L,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(oe("Friendship deleting failed"));case 12:n(be());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ue(),n(le()),t.prev=2,t.next=5,r.post("".concat(ce,"/friendships/").concat(e,"/"));case 5:a=t.sent,n({type:H,payload:a.data}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),n(oe("Add friend failed"));case 13:n(be());case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ue(),n(le()),t.prev=2,t.next=5,r.delete("".concat(ce,"/friendships/").concat(e,"/"));case 5:n({type:G,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(oe("Friend request deleting failed"));case 12:n(be());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},_e=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r,a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ue(),n(le()),t.prev=2,t.next=5,r.put("".concat(ce,"/friendships/accept/").concat(e,"/"));case 5:return a=t.sent,t.next=8,r.get("".concat(ce,"/users/").concat(a.data.friend_id,"/"));case 8:c=t.sent,n({type:W,payload:{requestId:e,friend:c.data}}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0),n(oe("Friend request accepting failed."));case 16:n(be());case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ue(),n(le()),t.prev=2,t.next=5,r.put("".concat(ce,"/friendships/decline/").concat(e,"/"));case 5:n({type:M,payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),n(oe("Friend request declining failed."));case 12:n(be());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(le()),t.prev=1,t.next=4,se.get("".concat(ce,"/users/?").concat(X("ids",e)));case 4:r=t.sent,n({type:B,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:n(be());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Se=n(175),we=n(173),Ae=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.userData,t=e&&e.isAuthenticated;return Object(r.jsx)(c.a.Fragment,{children:t?Object(r.jsx)(p.a,{to:{pathname:"/".concat(e.authentication.user_id)}}):this.props.children})}}]),n}(c.a.Component),qe=Object(u.b)((function(e){return{userData:e.userData}}),null)(Ae),Ue=n(22),Fe=n(23),Ne=n(57),Ie=n(180),Te=n(167),Pe=n(182),Le=n(176),He=n(183);function Ge(e){var t=e.input,n=t.name,a=t.onChange,c=t.value,i=Object(Ne.a)(t,["name","onChange","value"]),s=e.meta,u=e.submitError,o=Object(Ne.a)(e,["input","meta","submitError"]);return Object(r.jsx)(Ie.a,Object(x.a)(Object(x.a)({},o),{},{name:n,helperText:s.touched?s.error||u:void 0,error:(s.error||u)&&s.touched,inputProps:i,onChange:a,value:c,style:{margin:10,minWidth:"60%"},id:"outlined-basic",variant:"outlined"}))}function We(e){var t=e.input,n=t.name,a=t.onChange,c=t.value,i=Object(Ne.a)(t,["name","onChange","value"]),s=e.meta,u=e.submitError,o=e.label,l=e.options,b=Object(Ne.a)(e,["input","meta","submitError","label","options"]);return Object(r.jsxs)(Te.a,{variant:"outlined",style:{margin:10,minWidth:"60%"},children:[Object(r.jsx)(Pe.a,{id:"demo-simple-select-outlined-label",children:o}),Object(r.jsx)(Le.a,Object(x.a)(Object(x.a)({},b),{},{name:n,helperText:s.touched?s.error||u:void 0,error:(s.error||u)&&s.touched,inputProps:i,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:c,onChange:a,label:o,children:Object.keys(l).map((function(e){return Object(r.jsx)(He.a,{value:e,children:l[e]},"select"+e)}))}))]})}var Me=function(e){return e?void 0:"Required"},Be=n(184),Qe={marginTop:"3px",marginRight:"5px"},ze=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.hobbies,t=Math.random().toString(36).substring(7);return Object(r.jsx)(r.Fragment,{children:e.map((function(e){return Object(r.jsx)(Be.a,{label:e.name,style:Qe},t+e.id)}))})}}]),n}(c.a.Component),Ye=n(168),Je=n(169),Ke=n(170),Xe=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).toPath=r.toPath.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"toPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAuthenticated,a=t.logout,c=t.user;return Object(r.jsx)(Ye.a,{position:"static",children:Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Ke.a,{color:"inherit",onClick:function(){return e.toPath("/")},children:"Social Network"}),n&&Object(r.jsxs)(Ke.a,{color:"inherit",onClick:function(){return e.toPath("/login")},children:[c.first_name," ",c.last_name]}),n&&Object(r.jsx)(Ke.a,{color:"inherit",onClick:a,children:"Logout"}),!n&&Object(r.jsx)(Ke.a,{color:"inherit",onClick:function(){return e.toPath("/login")},children:"Login"}),!n&&Object(r.jsx)(Ke.a,{color:"inherit",onClick:function(){return e.toPath("/register")},children:"Register"}),Object(r.jsx)(mt,{})]})})}}]),n}(c.a.Component),Ve=Object(u.b)((function(e){return{isAuthenticated:e.userData.isAuthenticated,user:e.userData.user}}),(function(e){return Object(h.bindActionCreators)({logout:je},e)}))(Object(p.g)(Xe)),Ze=n(171),$e=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleDelete=r.handleDelete.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"handleDelete",value:function(){var e=this.props,t=e.user;(0,e.deleteFriendship)(t.id)}},{key:"render",value:function(){return Object(r.jsx)(Be.a,{label:"Friend",onDelete:this.handleDelete,color:"primary"})}}]),n}(c.a.Component),et=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({deleteFriendship:De},e)}))($e),tt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleAdd=r.handleAdd.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"handleAdd",value:function(){var e=this.props,t=e.user;(0,e.addFriendRequest)(t.id)}},{key:"render",value:function(){return Object(r.jsx)(Be.a,{label:"Add Friend",onClick:this.handleAdd})}}]),n}(c.a.Component),nt=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({addFriendRequest:Ee},e)}))(tt),rt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleAccept=r.handleAccept.bind(Object(Ue.a)(r)),r.handleDecline=r.handleDecline.bind(Object(Ue.a)(r)),r.getFriendRequest=r.getFriendRequest.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"getFriendRequest",value:function(){var e=this.props,t=e.userData,n=e.user;return t.friendRequests.find((function(e){return e.to_user===t.user.id&&e.from_user===n.id}))}},{key:"handleAccept",value:function(e){this.props.acceptFriendRequest(e.id)}},{key:"handleDecline",value:function(e){this.props.declineFriendRequest(e.id)}},{key:"render",value:function(){var e=this,t=this.getFriendRequest();return Object(r.jsx)(Be.a,{label:"Accept",onDelete:function(){return e.handleDecline(t)},onClick:function(){return e.handleAccept(t)},color:"secondary"})}}]),n}(c.a.Component),at=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({acceptFriendRequest:_e,declineFriendRequest:Re},e)}))(rt),ct=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleDelete=r.handleDelete.bind(Object(Ue.a)(r)),r.getFriendRequest=r.getFriendRequest.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"getFriendRequest",value:function(){var e=this.props,t=e.userData,n=e.user;return t.friendRequests.find((function(e){return e.from_user===t.user.id&&e.to_user===n.id}))}},{key:"handleDelete",value:function(e){this.props.deleteFriendRequest(e.id)}},{key:"render",value:function(){var e=this,t=this.getFriendRequest(),n=t.status===z?"Waiting user response":"User decline your request";return Object(r.jsx)(Be.a,{label:n,onDelete:function(){return e.handleDelete(t)},color:"secondary"})}}]),n}(c.a.Component),it=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({deleteFriendRequest:ke},e)}))(ct),st={YOU:function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(Be.a,{label:"You",color:"primary"})}}]),n}(c.a.Component),FRIEND:et,WAITING_YOU_RESPONSE:at,WAITING_USER_RESPONSE:it,UNKNOWN:nt},ut=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getComponent",value:function(){var e=this.props,t=e.user,n=e.userData,r=n.user;return n.isAuthenticated?t.id===n.authentication.user_id?st.YOU:n.friends.find((function(e){return e.id===t.id}))?st.FRIEND:n.friendRequests.find((function(e){return e.from_user===r.id&&e.to_user===t.id}))?st.WAITING_USER_RESPONSE:n.friendRequests.find((function(e){return e.to_user===r.id&&e.from_user===t.id}))?st.WAITING_YOU_RESPONSE:st.UNKNOWN:st.UNKNOWN}},{key:"render",value:function(){var e=this.getComponent();return Object(r.jsx)(e,{user:this.props.user})}}]),n}(c.a.Component),ot=Object(u.b)((function(e){return{userData:e.userData}}),null)(ut),lt=n(130),bt={display:"flex",justifyContent:"space-between"},dt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.isAuthenticated;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(lt.a,{variant:"h6",component:"h2",style:bt,children:[Object(r.jsxs)(j.b,{to:"/".concat(t.id),children:[t.first_name," ",t.last_name]}),n&&Object(r.jsx)(ot,{user:t})]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Age:"})," ",t.age]}),t.city&&Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"City:"})," ",t.city]}),t.gender&&Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Gender:"})," ",t.gender]})]})}}]),n}(c.a.Component),jt=Object(u.b)((function(e){return{isAuthenticated:e.userData.isAuthenticated}}),null)(dt),pt={padding:"10px",height:"90%"},ht=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.user;return Object(r.jsxs)(Ze.a,{style:pt,children:[Object(r.jsx)(jt,{user:e}),Object(r.jsx)(ze,{hobbies:e.hobbies})]})}}]),n}(c.a.Component),ft=n(172),Ot=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:!!this.props.requestCount&&Object(r.jsx)(ft.a,{color:"inherit"})})}}]),n}(c.a.Component),mt=Object(u.b)((function(e){return{requestCount:e.requestCount}}),null)(Ot),vt=n(179),xt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.message;return Object(r.jsx)(vt.a,{open:!!e,anchorOrigin:{vertical:"top",horizontal:"right"},message:e,severity:"error"})}}]),n}(c.a.Component),yt=Object(u.b)((function(e){return{message:e.message}}),null)(xt),gt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.errors;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)(Fe.a,{name:"email",validate:Me,type:"email",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"Email",submitError:n.email})}}),Object(r.jsx)(Fe.a,{name:"password",type:"password",validate:Me,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"Password",submitError:n.password})}}),n.general&&Object(r.jsx)("div",{children:n.general}),Object(r.jsx)("div",{children:Object(r.jsx)(Ke.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})})]})}}]),n}(c.a.Component),Dt=Object(u.b)((function(e){return{errors:e.loginErrors}}),null)(gt),Et={minWidth:"50%",minHeight:"200px",padding:"20px",margin:"40px",textAlign:"center",justifyContent:"center"},kt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"handleSubmit",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.login(t.email,t.password);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsxs)(Ze.a,{style:Et,children:[Object(r.jsx)(lt.a,{variant:"h4",component:"h2",children:"Login"}),Object(r.jsx)(Fe.b,{component:Dt,onSubmit:this.handleSubmit})]})}}]),n}(c.a.Component),_t=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({login:de},e)}))(kt),Rt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.errors,a={MALE:"Male",FEMALE:"Female",OTHER:"Other"};return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)(Fe.a,{name:"email",validate:Me,type:"email",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"Email",placeholder:"Email",submitError:n.email})}}),Object(r.jsx)(Fe.a,{name:"password",type:"password",validate:Me,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"Password",placeholder:"Password",submitError:n.password})}}),Object(r.jsx)(Fe.a,{name:"confirm",type:"password",validate:Me,children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(Ge,{input:t,meta:n,label:"Confirm password",placeholder:"Confirm",submitError:null})}}),Object(r.jsx)(Fe.a,{name:"first_name",validate:Me,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"First Name",placeholder:"First Name",submitError:n.first_name})}}),Object(r.jsx)(Fe.a,{name:"last_name",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"Last Name",placeholder:"Last Name",submitError:n.last_name})}}),Object(r.jsx)(Fe.a,{name:"city",children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"City",placeholder:"City",submitError:n.city})}}),Object(r.jsx)(Fe.a,{name:"gender",children:function(e){var t=e.input,c=e.meta;return Object(r.jsx)(We,{input:t,meta:c,label:"Gender",submitError:n.gender,options:a})}}),Object(r.jsx)(Fe.a,{name:"age",type:"number",validate:Me,children:function(e){var t=e.input,a=e.meta;return Object(r.jsx)(Ge,{input:t,meta:a,label:"Age",placeholder:"Age",submitError:n.age})}}),n.general&&Object(r.jsx)("div",{children:n.general}),Object(r.jsx)("div",{children:Object(r.jsx)(Ke.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})})]})}}]),n}(c.a.Component),Ct=Object(u.b)((function(e){return{errors:e.registerErrors}}),null)(Rt),St={minWidth:"50%",minHeight:"200px",padding:"20px",margin:"40px",textAlign:"center",justifyContent:"center"},wt=function(e){if(e.password!==e.confirm)return{confirmPassword:"Passwords mismatch"}},At=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={redirect:!1},r.handleSubmit=r.handleSubmit.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"handleSubmit",value:function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.register(t);case 2:e.sent&&this.setState({redirect:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.state.redirect?Object(r.jsx)(p.a,{to:{pathname:"/login"}}):Object(r.jsxs)(Ze.a,{style:St,children:[Object(r.jsx)(lt.a,{variant:"h4",component:"h2",children:"Register"}),Object(r.jsx)(Fe.b,{component:Ct,onSubmit:this.handleSubmit,validate:wt})]})})}}]),n}(c.a.Component),qt=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({register:he},e)}))(At),Ut={marginTop:"5px",marginRight:"5px"},Ft=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).addHobby=r.addHobby.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"addHobby",value:function(e,t){this.props.addHobby(e.hobby),setTimeout((function(){return t.restart()}),0)}},{key:"deleteHobby",value:function(e){this.props.deleteHobby(e)}},{key:"render",value:function(){var e=this,t=this.props.hobbies,n=function(e){return t.find((function(t){return t.name===e}))?"Already added":null},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}};return Object(r.jsxs)("div",{children:[t.map((function(t){return Object(r.jsx)(Be.a,{label:t.name,onDelete:function(){return e.deleteHobby(t.id)},style:Ut},"hobby_"+t.id)})),Object(r.jsx)(Fe.b,{onSubmit:this.addHobby,children:function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,style:{marginTop:"10px"},children:[Object(r.jsx)(Fe.a,{name:"hobby",validate:a(n,Me),type:"text",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(Ge,{input:t,meta:n,label:"Hobby"})}}),Object(r.jsx)(Ke.a,{style:{marginTop:"15px"},variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})]})}})]})}}]),n}(c.a.Component),Nt=Object(u.b)(null,(function(e){return Object(h.bindActionCreators)({addHobby:Oe,deleteHobby:me},e)}))(Ft),It=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.userData,t=e.friendRequests.map((function(t){return t.from_user===e.user.id?t.to_user:t.from_user}));this.props.getFriendRequestUsers(t)}},{key:"render",value:function(){var e=this.props.userData,t=e.friendRequestUsers,n=e.friendRequests,a=e.user,c=t;if(!this.props.showDeclined){var i=n.filter((function(e){return e.status!==Y})).map((function(e){return e.from_user===a.id?e.to_user:e.from_user}));c=c.filter((function(e){return i.find((function(t){return t===e.id}))}))}return Object(r.jsx)(we.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",children:c.map((function(e){return Object(r.jsx)(we.a,{item:!0,xs:6,children:Object(r.jsx)(ht,{user:e})},"friend_request_user_"+e.id)}))})}}]),n}(c.a.Component),Tt=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({getFriendRequestUsers:Ce},e)}))(It),Pt=n(174),Lt=n(177),Ht={padding:"20px",height:"100%",marginTop:"10px"},Gt={marginTop:"40px",padding:"20px"},Wt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={showDeclinedFriendRequests:!0},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.getUser,r=e.getFriends;n(t),r(t)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearUser,n=e.clearUsers;t(),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.user,c=t.users,i=t.userData,s=this.state.showDeclinedFriendRequests,u=Number(n)===i.user.id,o=u?i.friends:c;return Object(r.jsxs)(we.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",children:[Object(r.jsx)(we.a,{item:!0,xs:6,children:Object(r.jsxs)(Ze.a,{style:Ht,children:[Object(r.jsx)(lt.a,{variant:"h5",component:"h2",children:"Common info"}),a&&a.id&&Object(r.jsx)(jt,{user:a})]})}),Object(r.jsx)(we.a,{item:!0,xs:6,children:Object(r.jsxs)(Ze.a,{style:Ht,children:[Object(r.jsx)(lt.a,{variant:"h5",component:"h2",children:"Hobbies"}),u?Object(r.jsx)(Nt,{hobbies:i.user.hobbies}):Object(r.jsx)(ze,{hobbies:a?a.hobbies:[]})]})}),u&&!!i.friendRequests.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(we.a,{item:!0,xs:12,style:Gt,children:Object(r.jsxs)(lt.a,{variant:"h5",component:"h2",style:{justifyContent:"space-between",display:"flex"},children:["Friend requests",Object(r.jsx)(Pt.a,{control:Object(r.jsx)(Lt.a,{checked:s,onChange:function(){return e.setState({showDeclinedFriendRequests:!s})},name:"showDeclined",color:"primary"}),label:"Show declined requests"})]})}),Object(r.jsx)(we.a,{item:!0,xs:12,children:Object(r.jsx)(Tt,{showDeclined:s})})]}),Object(r.jsx)(we.a,{item:!0,xs:12,style:Gt,children:Object(r.jsx)(lt.a,{variant:"h5",component:"h2",children:"Friends"})}),Object(r.jsx)(we.a,{item:!0,xs:12,children:Object(r.jsx)(we.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",xs:12,children:o.map((function(e){return Object(r.jsx)(we.a,{item:!0,xs:6,children:Object(r.jsx)(ht,{user:e})},"friend_"+e.id)}))})})]})}}]),n}(c.a.Component),Mt=Object(u.b)((function(e){return{user:e.user,userData:e.userData,users:e.users}}),(function(e){return Object(h.bindActionCreators)({getUser:fe,getFriends:ve,clearUser:xe,clearUsers:ye},e)}))(Wt),Bt={minWidth:"100%",marginTop:"10px",marginBottom:"10px",textAlign:"center",justifyContent:"center"},Qt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.handleSubmit;return Object(r.jsx)(Ze.a,{style:Bt,children:Object(r.jsx)("form",{onSubmit:e,children:Object(r.jsxs)(we.a,{container:!0,justify:"center",spacing:1,children:[Object(r.jsx)(we.a,{item:!0,children:Object(r.jsx)(Fe.a,{name:"first_name",type:"text",parse:function(e){return e||""},initialValue:"",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(Ge,{input:t,meta:n,label:"First Name",placeholder:"First Name"})}})}),Object(r.jsx)(we.a,{item:!0,children:Object(r.jsx)(Fe.a,{name:"last_name",type:"text",parse:function(e){return e||""},initialValue:"",children:function(e){var t=e.input,n=e.meta;return Object(r.jsx)(Ge,{input:t,meta:n,label:"Last Name",placeholder:"Last Name"})}})}),Object(r.jsx)(we.a,{item:!0,style:{marginTop:"auto",marginBottom:"auto"},children:Object(r.jsx)(Ke.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Submit"})})]})})})}}]),n}(c.a.Component),zt=100,Yt=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={page:1,isAll:!1,lastQuery:{first_name:"",last_name:""}},r.handleSubmit=r.handleSubmit.bind(Object(Ue.a)(r)),r.handlePage=r.handlePage.bind(Object(Ue.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers("","",1,zt)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.users;if(e.users.length!==r.length){var a=!1;r.length<zt&&(a=!0),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{isAll:a}))}}},{key:"componentWillUnmount",value:function(){this.props.clearUsers()}},{key:"handleSubmit",value:function(e){this.props.getUsers(e.first_name,e.last_name,1,zt),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{lastQuery:e}))}},{key:"handlePage",value:function(e){var t=this.state.lastQuery;this.props.getUsers(t.first_name,t.last_name,e,zt),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{page:e}))}},{key:"render",value:function(){var e=this,t=this.props.users,n=this.state,a=n.page,c=n.isAll;return Object(r.jsxs)(Se.a,{children:[Object(r.jsx)(Fe.b,{component:Qt,onSubmit:this.handleSubmit}),Object(r.jsxs)(we.a,{item:!0,container:!0,spacing:2,justify:"space-between",direction:"row",children:[t.map((function(e){return Object(r.jsx)(we.a,{item:!0,xs:6,children:Object(r.jsx)(ht,{user:e})},"user_"+e.id)})),!t.length&&Object(r.jsx)(lt.a,{variant:"h5",component:"h2",style:{marginBottom:"10px"},children:"Users not found"})]}),a>1&&Object(r.jsx)(Ke.a,{variant:"contained",color:"primary",type:"submit",size:"large",style:{marginRight:"10px"},onClick:function(){return e.handlePage(a-1)},children:"Previous"}),!c&&Object(r.jsx)(Ke.a,{variant:"contained",color:"primary",type:"submit",size:"large",style:{marginRight:"10px"},onClick:function(){return e.handlePage(a+1)},children:"Next"})]})}}]),n}(c.a.Component),Jt=Object(u.b)((function(e){return{users:e.users}}),(function(e){return Object(h.bindActionCreators)({getUsers:ge,clearUsers:ye},e)}))(Yt),Kt=(n(128),function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.userData,r=t.getUserData,a=n.isAuthenticated,c=n.authentication,i=n.user;a&&0===i.id&&r(c.user_id),this.interval=setInterval((function(){var t=e.props.userData,n=t.isAuthenticated,a=t.authentication;n&&r(a.user_id)}),2e4)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props,a=r.userData,c=r.getUserData;e.userData.isAuthenticated!==a.isAuthenticated&&a.isAuthenticated&&c(a.authentication.user_id)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(r.jsxs)(j.a,{children:[Object(r.jsx)(Ve,{}),Object(r.jsx)(yt,{}),Object(r.jsx)(Se.a,{children:Object(r.jsx)(we.a,{children:Object(r.jsx)(we.a,{container:!0,justify:"center",children:Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{path:"/login",children:Object(r.jsx)(qe,{children:Object(r.jsx)(_t,{})})}),Object(r.jsx)(p.b,{path:"/register",children:Object(r.jsx)(qe,{children:Object(r.jsx)(qt,{})})}),Object(r.jsx)(p.b,{path:"/:id",render:function(e){var t=e.match;return Object(r.jsx)(Mt,{id:t.params.id},t.params.id)}}),Object(r.jsx)(p.b,{path:"/",children:Object(r.jsx)(Jt,{})})]})})})})]})}}]),n}(c.a.Component)),Xt=Object(u.b)((function(e){return{userData:e.userData}}),(function(e){return Object(h.bindActionCreators)({getUserData:pe},e)}))(Kt);s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{store:ae,children:Object(r.jsx)(Xt,{})})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.fefb4260.chunk.js.map